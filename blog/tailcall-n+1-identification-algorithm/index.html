<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">How Tailcall statically identifies N+1 issues in GraphQL | Tailcall</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://tailcall.run/tailcallhq.github.io/blog/tailcall-n+1-identification-algorithm/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="How Tailcall statically identifies N+1 issues in GraphQL | Tailcall"><meta data-rh="true" name="description" content="A deep dive into the implementation details of the N+1 tracker"><meta data-rh="true" property="og:description" content="A deep dive into the implementation details of the N+1 tracker"><meta data-rh="true" property="og:image" content="https://tailcall.run/tailcallhq.github.io/images/blog/tailcall-n+1-identification-algorithm.png"><meta data-rh="true" name="twitter:image" content="https://tailcall.run/tailcallhq.github.io/images/blog/tailcall-n+1-identification-algorithm.png"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-08-04T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/tusharmath"><link data-rh="true" rel="icon" href="/tailcallhq.github.io/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://tailcall.run/tailcallhq.github.io/blog/tailcall-n+1-identification-algorithm/"><link data-rh="true" rel="alternate" href="https://tailcall.run/tailcallhq.github.io/blog/tailcall-n+1-identification-algorithm/" hreflang="en"><link data-rh="true" rel="alternate" href="https://tailcall.run/tailcallhq.github.io/blog/tailcall-n+1-identification-algorithm/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://X27WDVHRQ3-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://tailcall.run/tailcallhq.github.io/blog/tailcall-n+1-identification-algorithm","mainEntityOfPage":"https://tailcall.run/tailcallhq.github.io/blog/tailcall-n+1-identification-algorithm","url":"https://tailcall.run/tailcallhq.github.io/blog/tailcall-n+1-identification-algorithm","headline":"How Tailcall statically identifies N+1 issues in GraphQL","name":"How Tailcall statically identifies N+1 issues in GraphQL","description":"A deep dive into the implementation details of the N+1 tracker","datePublished":"2024-08-04T00:00:00.000Z","author":{"@type":"Person","name":"Tushar Mathur","description":"CEO @ Tailcall | Love to talk about programming, scale, distributed systems, and building high-performance systems.","url":"https://github.com/tusharmath","image":"https://avatars.githubusercontent.com/u/194482?v=4"},"image":{"@type":"ImageObject","@id":"https://tailcall.run/tailcallhq.github.io/images/blog/tailcall-n+1-identification-algorithm.png","url":"https://tailcall.run/tailcallhq.github.io/images/blog/tailcall-n+1-identification-algorithm.png","contentUrl":"https://tailcall.run/tailcallhq.github.io/images/blog/tailcall-n+1-identification-algorithm.png","caption":"title image for the blog post: How Tailcall statically identifies N+1 issues in GraphQL"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://tailcall.run/tailcallhq.github.io/blog","name":"Feed of Tailcall blogs"}}</script><link rel="search" type="application/opensearchdescription+xml" title="Tailcall" href="/tailcallhq.github.io/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/tailcallhq.github.io/blog/rss.xml" title="Tailcall RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/tailcallhq.github.io/blog/atom.xml" title="Tailcall Atom Feed">
<link rel="alternate" type="application/json" href="/tailcallhq.github.io/blog/feed.json" title="Tailcall JSON Feed">



<script id="chatbotscript" data-accountid="CZPG9aVdtk59Tjz4SMTu8w==" data-websiteid="75VGI0NlBqessD4BQn2pFg==" src="https://app.robofy.ai/bot/js/common.js?v=1732742429706"></script>
<script type="application/ld+json">{"@context":"https://schema.org/","@type":"WebSite","name":"Tailcall","url":"https://tailcall.run/"}</script><link rel="stylesheet" href="/tailcallhq.github.io/assets/css/styles.aa6bbc17.css">
<script src="/tailcallhq.github.io/assets/js/runtime~main.fa0e9d0b.js" defer="defer"></script>
<script src="/tailcallhq.github.io/assets/js/main.3e27c96a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/tailcallhq.github.io/"><div class="navbar__logo"><img src="/tailcallhq.github.io/icons/companies/tailcall.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/tailcallhq.github.io/icons/companies/tailcall.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/tailcallhq.github.io/">Home</a><a class="navbar__item navbar__link" href="/tailcallhq.github.io/docs/">Docs</a><a class="navbar__item navbar__link" href="/tailcallhq.github.io/graphql/">Learn</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/tailcallhq.github.io/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><div class="hidden lg:flex search-icon-navbar navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_eExm"><div class="container mx-auto mt-3 mb-10 md:my-8 px-4"><div class="flex flex-row"><div class="w-full"><article><header><a class="flex items-center gap-2 my-8 cursor-pointer !no-underline" href="/tailcallhq.github.io/blog/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg><span class="text-content-small text-tailCall-light-600">Back to Blogs</span></a><h1 class="title_xvU1">How Tailcall statically identifies N+1 issues in GraphQL</h1><div class="container_iJTo margin-vert--md"><time datetime="2024-08-04T00:00:00.000Z">August 4, 2024</time> · <!-- -->8 min read</div></header><img src="/images/blog/tailcall-n+1-identification-algorithm.png" alt="Cover Image for How Tailcall statically identifies N+1 issues in GraphQL"><div id="__blog-post-container" class="markdown"><p>As a developer working with GraphQL, you&#x27;re likely familiar with the concept of N+1 issues. If not, you&#x27;re in for a treat - check out our <a href="/tailcallhq.github.io/docs/graphql-n-plus-one-problem-solved-tailcall/">N+1 guide!</a></p>
<p>To summarize, they occur when a GraphQL resolver is called multiple times for a single GraphQL request, leading to a large set of requests upstream and overall slower query execution. In this blog post, we&#x27;ll dive into how Tailcall specifically identifies N+1 issues in GraphQL, and explore the algorithm and data structures used to detect these issues.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="high-level-working">High-Level Working<a href="#high-level-working" class="hash-link" aria-label="Direct link to High-Level Working" title="Direct link to High-Level Working">​</a></h2>
<p>Unlike a traditional GraphQL implementation where the resolvers are written by hand, Tailcall encourages developers to take a configuration-driven approach. This has many benefits, and we have talked about them in our previous <a href="/tailcallhq.github.io/blog/writing-a-graphql-backend-by-hand-is-long-gone/">blog</a>.</p>
<p>One of the main advantages of not handwriting is the ability to introspect and optimize. Let&#x27;s take an example of two functions written in Rust, though the problem is evident in all general purpose programming languages.</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">BASE_URL</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">&amp;</span><span class="token keyword" style="color:#C586C0">str</span><span class="token plain"> </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;https://jsonplaceholder.typicode.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token comment" style="color:#30C26D;font-style:italic">// Describes a typical Post returned from the /posts API</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:#C586C0">Post</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">i32</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    user_id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">i32</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    title</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">String</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    body</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">String</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    user</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Option</span><span class="token operator" style="color:#8DFFF8">&lt;</span><span class="token class-name" style="color:#C586C0">User</span><span class="token operator" style="color:#8DFFF8">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token comment" style="color:#30C26D;font-style:italic">// Describes a typical User object from the /users API</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">i32</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">String</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    email</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token comment" style="color:#30C26D;font-style:italic">// Asynchronously retrieves a `User` object by making a GET request using the given `user_id`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#FDEA2F">get_user</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">user_id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">i32</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> response </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">request</span><span class="token punctuation" style="color:#fff">(</span><span class="token class-name" style="color:#C586C0">Method</span><span class="token punctuation" style="color:#fff">::</span><span class="token constant" style="color:#C586C0">GET</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token macro property" style="color:#C586C0">format!</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">&quot;{}/users/{}&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">BASE_URL</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> user_id</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">.</span><span class="token keyword" style="color:#C586C0">await</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token comment" style="color:#30C26D;font-style:italic">// Decode the body as a User</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token function" style="color:#FDEA2F">decode</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">body</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token comment" style="color:#30C26D;font-style:italic">// Asynchronously fetches and updates posts with user details from the API.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#FDEA2F">get_posts</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Vec</span><span class="token operator" style="color:#8DFFF8">&lt;</span><span class="token class-name" style="color:#C586C0">Post</span><span class="token operator" style="color:#8DFFF8">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> response </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">request</span><span class="token punctuation" style="color:#fff">(</span><span class="token class-name" style="color:#C586C0">Method</span><span class="token punctuation" style="color:#fff">::</span><span class="token constant" style="color:#C586C0">GET</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token macro property" style="color:#C586C0">format!</span><span class="token punctuation" style="color:#fff">(</span><span class="token string" style="color:#FDB869">&quot;{}/posts&quot;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token constant" style="color:#C586C0">BASE_URL</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">.</span><span class="token keyword" style="color:#C586C0">await</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token comment" style="color:#30C26D;font-style:italic">// Decode the response into a Vec&lt;Post&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">mut</span><span class="token plain"> posts </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token function" style="color:#FDEA2F">decode</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">body</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token comment" style="color:#30C26D;font-style:italic">// Set the actual user by making an HTTP call</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">for</span><span class="token plain"> post </span><span class="token keyword" style="color:#C586C0">in</span><span class="token plain"> posts </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        post</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">user </span><span class="token operator" style="color:#8DFFF8">=</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Some</span><span class="token punctuation" style="color:#fff">(</span><span class="token function" style="color:#FDEA2F">get_user</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#fff">.</span><span class="token plain">user_id</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">.</span><span class="token keyword" style="color:#C586C0">await</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    posts</span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>You might have identified that there are few issues in the implementation above:</p>
<ol>
<li>For each post item we end up making a call for the user independently, there is a clear N+1 issue here.</li>
<li>It&#x27;s possible that two posts can be written by the same user, and yet we will end up making duplicate calls for the same user.</li>
<li>All calls to the <code>/users</code> API is being made in sequence, even though they can be paralyzed.</li>
<li>There are multiple points of failure which the above code doesn&#x27;t handle.</li>
</ol>
<p>Now, yes all of these issues can be solved by better coding practices, using a <a href="https://doc.rust-lang.org/std/result/" target="_blank" rel="noopener noreferrer">Result</a> type and using a <a href="https://github.com/graphql/dataloader" target="_blank" rel="noopener noreferrer">DataLoader</a> but that&#x27;s besides the point. The point here is - Semantic analysis of any code is critical to building a robust systems and is only possible with some sort of human intervention typically in the form of code reviews or perhaps using some LLM if you are into that hype. What you can&#x27;t do is - Write an algorithm to identify the N+1 issue in your GraphQL implementation that <strong>100% accurate</strong>.</p>
<p>With a configuration its a completely different story, take the below Tailcall configuration for example:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">schema</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">query</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">posts</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">[</span><span class="token class-name" style="color:#C586C0">Post</span><span class="token punctuation" style="color:#fff">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token attr-name" style="color:#8DFFF8">url</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;https://jsonplaceholder.typicode.com/posts&quot;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Post</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">userId</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">title</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">body</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token operator" style="color:#8DFFF8">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">user</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token directive function" style="color:#FDEA2F">@http</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">      </span><span class="token attr-name" style="color:#8DFFF8">url</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token string" style="color:#FDB869">&quot;https://jsonplaceholder.typicode.com/users{{.value.userId}}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">type</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">id</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">ID</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">name</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">  </span><span class="token attr-name" style="color:#8DFFF8">email</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token scalar" style="color:#8DFFF8">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>It&#x27;s simple, expressive and doesn&#x27;t expose the guts of how data will be queried, batched, deduped, parsed etc. Sure, configurations take away flexibility from writing anything but in return it liberates you from a ton of such nitty gritties of building a robust software system. The above configuration file can be parsed, validated and semantically analyzed accurately to identify issues such as N+1 very precisely using the <a href="/tailcallhq.github.io/docs/tailcall-graphql-cli/#check">check</a> command as follows:</p>
<p><img decoding="async" loading="lazy" alt="Actual Usage Image" src="/tailcallhq.github.io/assets/images/n+1-image-terminal-2bfbafada99d3c089f9d703c60855bef.png" width="3232" height="984" class="img_ev3q"></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-algorithm">The Algorithm<a href="#the-algorithm" class="hash-link" aria-label="Direct link to The Algorithm" title="Direct link to The Algorithm">​</a></h2>
<p>Tailcall reads your <a href="/tailcallhq.github.io/docs/tailcall-graphql-configuration-format-conversion/">configuration</a>, parses it, and internally stores it in an efficient graph data-structure that resembles a <code>HashMap</code>. This allows <code>O(1)</code> access to a GraphQL type which represented as a node by its name. Once the graph data-structure is ready we make it go through a series of validators, one of them being the <strong>N+1 tracker</strong>.</p>
<p>Now, here&#x27;s where it gets fascinating. We use a Depth-First Search (DFS) algorithm, starting at the root query and traversing all the connected nodes. Let me walk you through this cool process:</p>
<ol>
<li>Initialize two variables to track the currently traversed <code>path</code> and <code>visited</code> fields so that we can avoid cycles.</li>
<li>Start at the root query and begin traversing the graph data structure.</li>
<li>For each field in the current node, check if it has a resolver and is not batched. We know if the node contains a resolver if that node has a <a href="/tailcallhq.github.io/docs/http-directive/"><code>@http</code></a> or a <a href="/tailcallhq.github.io/docs/grpc-directive/"><code>@grpc</code></a>. Tailcall supports powerful batching primitives and if a field uses a Batch API, then that resolver is whitelisted and dropped from the list of potential N+1 candidates.</li>
<li>If the field has a resolver and is not batched, and the current path contains a list, then the current path is added to the result.</li>
<li>Otherwise, we recursively traverse the graph data structure, updating the current path and visited fields as necessary.</li>
<li>If a cycle is detected, return the cached result instead of re-traversing the path.</li>
<li>Once the traversal is complete, return the result, which represents the identified N+1 issues.</li>
</ol>
<p>This algorithm allows Tailcall to efficiently identify potential N+1 issues across your entire GraphQL schema, even in complex, deeply nested structures.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>To see the actual implementation you can check out the <a href="https://github.com/tailcallhq/tailcall/blob/main/src/core/config/npo/tracker.rs" target="_blank" rel="noopener noreferrer">tracker.rs</a> implementation.</p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performance">Performance<a href="#performance" class="hash-link" aria-label="Direct link to Performance" title="Direct link to Performance">​</a></h2>
<p>While starting, Tailcall automatically performs these validations and one of our users complained that it would take around 5 minutes to start the server for their configuration which was around 10,000 lines. This caught our attention! The thing is, finding N+1 issues is a complex dynamic-programming problem. All this while our team has been focused on <a href="https://github.com/tailcallhq/graphql-benchmarks" target="_blank" rel="noopener noreferrer">benchmarking</a> and optimizing the runtime performance of the server. This was the first time perhaps that we were surprised to see such a degradation in performance. We quickly realized that this is a dynamic programming problem and there are certain tricks to make such algorithms efficient. For us, it boiled down to two key optimizations:</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1-memoization">1. Memoization<a href="#1-memoization" class="hash-link" aria-label="Direct link to 1. Memoization" title="Direct link to 1. Memoization">​</a></h3>
<p>Our algorithm uses a cache to store the results of previous traversals. The cache is used to avoid re-traversing the same path multiple times. It&#x27;s essentially memoization however is super critical if you have a huge configuration that you&#x27;d want to validate.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2-chunk-data-structure">2. Chunk Data Structure<a href="#2-chunk-data-structure" class="hash-link" aria-label="Direct link to 2. Chunk Data Structure" title="Direct link to 2. Chunk Data Structure">​</a></h3>
<p>Let me introduce you to our secret weapon: a special yet simple data structure that we affectionately call &quot;Chunk&quot;. It&#x27;s a game-changer for storing and manipulating query paths. The chunk data structure is implemented as an enum with three variants:</p>
<div class="rounded-3xl overflow-hidden"><div class="bg-[#35353A] p-4 flex justify-between items-center"><span class="text-white text-xs font-space-mono"></span><div class="relative"><button aria-label="Copy code" class="flex flex-row items-center bg-transparent appearance-none border-none"><img src="/icons/basic/copy-icon.svg" alt="Copy Icon" class="w-4 h-4 cursor-pointer hover:opacity-80 transition-opacity duration-150"></button></div></div><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#fff;--prism-background-color:#303037"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#fff;background-color:#303037"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#fff"><span class="token keyword" style="color:#C586C0">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:#C586C0">Chunk</span><span class="token operator" style="color:#8DFFF8">&lt;</span><span class="token class-name" style="color:#C586C0">A</span><span class="token operator" style="color:#8DFFF8">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token class-name" style="color:#C586C0">Empty</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token class-name" style="color:#C586C0">Append</span><span class="token punctuation" style="color:#fff">(</span><span class="token class-name" style="color:#C586C0">A</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Rc</span><span class="token operator" style="color:#8DFFF8">&lt;</span><span class="token class-name" style="color:#C586C0">Chunk</span><span class="token operator" style="color:#8DFFF8">&lt;</span><span class="token class-name" style="color:#C586C0">A</span><span class="token operator" style="color:#8DFFF8">&gt;&gt;</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token class-name" style="color:#C586C0">Concat</span><span class="token punctuation" style="color:#fff">(</span><span class="token class-name" style="color:#C586C0">Rc</span><span class="token operator" style="color:#8DFFF8">&lt;</span><span class="token class-name" style="color:#C586C0">Chunk</span><span class="token operator" style="color:#8DFFF8">&lt;</span><span class="token class-name" style="color:#C586C0">A</span><span class="token operator" style="color:#8DFFF8">&gt;&gt;</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Rc</span><span class="token operator" style="color:#8DFFF8">&lt;</span><span class="token class-name" style="color:#C586C0">Chunk</span><span class="token operator" style="color:#8DFFF8">&lt;</span><span class="token class-name" style="color:#C586C0">A</span><span class="token operator" style="color:#8DFFF8">&gt;&gt;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">impl</span><span class="token operator" style="color:#8DFFF8">&lt;</span><span class="token class-name" style="color:#C586C0">A</span><span class="token operator" style="color:#8DFFF8">&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Chunk</span><span class="token operator" style="color:#8DFFF8">&lt;</span><span class="token class-name" style="color:#C586C0">A</span><span class="token operator" style="color:#8DFFF8">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#FDEA2F">new</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">Self</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">Self</span><span class="token punctuation" style="color:#fff">::</span><span class="token class-name" style="color:#C586C0">Empty</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#FDEA2F">is_null</span><span class="token punctuation" style="color:#fff">(</span><span class="token operator" style="color:#8DFFF8">&amp;</span><span class="token keyword" style="color:#C586C0">self</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">bool</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token macro property" style="color:#C586C0">matches!</span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">self</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Chunk</span><span class="token punctuation" style="color:#fff">::</span><span class="token class-name" style="color:#C586C0">Empty</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#FDEA2F">append</span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">self</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> a</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">A</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">Self</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token class-name" style="color:#C586C0">Chunk</span><span class="token punctuation" style="color:#fff">::</span><span class="token class-name" style="color:#C586C0">Append</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Rc</span><span class="token punctuation" style="color:#fff">::</span><span class="token function" style="color:#FDEA2F">new</span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">self</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#FDEA2F">concat</span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">self</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> other</span><span class="token punctuation" style="color:#fff">:</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Chunk</span><span class="token operator" style="color:#8DFFF8">&lt;</span><span class="token class-name" style="color:#C586C0">A</span><span class="token operator" style="color:#8DFFF8">&gt;</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">Self</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">self</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">is_null</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">            </span><span class="token keyword" style="color:#C586C0">return</span><span class="token plain"> other</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> other</span><span class="token punctuation" style="color:#fff">.</span><span class="token function" style="color:#FDEA2F">is_null</span><span class="token punctuation" style="color:#fff">(</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">            </span><span class="token keyword" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">self</span><span class="token punctuation" style="color:#fff">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">Self</span><span class="token punctuation" style="color:#fff">::</span><span class="token class-name" style="color:#C586C0">Concat</span><span class="token punctuation" style="color:#fff">(</span><span class="token class-name" style="color:#C586C0">Rc</span><span class="token punctuation" style="color:#fff">::</span><span class="token function" style="color:#FDEA2F">new</span><span class="token punctuation" style="color:#fff">(</span><span class="token keyword" style="color:#C586C0">self</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">,</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Rc</span><span class="token punctuation" style="color:#fff">::</span><span class="token function" style="color:#FDEA2F">new</span><span class="token punctuation" style="color:#fff">(</span><span class="token plain">other</span><span class="token punctuation" style="color:#fff">)</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#FDEA2F">as_vec</span><span class="token punctuation" style="color:#fff">(</span><span class="token operator" style="color:#8DFFF8">&amp;</span><span class="token keyword" style="color:#C586C0">self</span><span class="token punctuation" style="color:#fff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:#C586C0">Vec</span><span class="token operator" style="color:#8DFFF8">&lt;</span><span class="token operator" style="color:#8DFFF8">&amp;</span><span class="token class-name" style="color:#C586C0">A</span><span class="token operator" style="color:#8DFFF8">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#fff">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">        </span><span class="token comment" style="color:#30C26D;font-style:italic">// ... converts the chunk into a vec</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain">    </span><span class="token punctuation" style="color:#fff">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#fff"><span class="token plain"></span><span class="token punctuation" style="color:#fff">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<table><thead><tr><th><strong>Variant</strong></th><th></th></tr></thead><tbody><tr><td><strong>Nil</strong></td><td>Represents an empty chunk</td></tr><tr><td><strong>Append</strong></td><td>Represents an append operation performed on an existing chunk</td></tr><tr><td><strong>Concat</strong></td><td>Represents the concatenation of two chunks</td></tr></tbody></table>
<p>The chunk data structure has the following properties:</p>
<ul>
<li><code>O(1)</code> complexity for append and concat operations.</li>
<li>Uses Reference Counting instead of Boxing to make cloning faster.</li>
<li>Can be converted to a vector of references to the elements in the chunk.</li>
</ul>
<p>You can clearly see that we don&#x27;t actually perform an append or a concat operation instead we store a representation of that operation. This is a significant optimization because while performing the DFS, we create a lot of temporary query paths. However with the chunk data structure we don&#x27;t need to allocate any additional memory on the heap or perform any form of wasted computation for paths that don&#x27;t produce an N+1 query.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>Lastly to ensure that we are always correct and no N+1 issues go unidentified we perform tests with actual configurations.</p>
<p><img decoding="async" loading="lazy" alt="Source Code Screenshot" src="/tailcallhq.github.io/assets/images/github-npo-screenshot-5e40d335542b593af7cd038ab6814fb7.png" width="1318" height="1148" class="img_ev3q"></p>
<p>Hopefully, this peek behind the curtain gives you some insight into how Tailcall identifies N+1 issues in your GraphQL configuration. Pretty cool, right?</p>
<ul>
<li>If you think we can make our N+1 detection faster or better in some other way, please help us improve by <a href="https://github.com/tailcallhq/tailcall" target="_blank" rel="noopener noreferrer">contributing</a> 🙏</li>
<li>If you find this interesting please spread the word 🙌</li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="!no-underline flex gap-3 items-center" href="/tailcallhq.github.io/blog/api-strategy/"><div class="w-10 h-10 p-2 bg-tailCall-yellow flex justify-center items-center rounded-full"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg></div><div class="hidden md:block"><div class="text-tailCall-dark-100 text-[12px] font-medium">Newer post</div><div class="pagination-nav__label text-black text-content-small font-medium">API Strategy: Driving Innovation and Growth in Modern Business</div></div></a><a class="!no-underline flex gap-3 items-center" href="/tailcallhq.github.io/blog/graphql-vue-client/"><div class="hidden md:block"><div class="text-tailCall-dark-100 text-[12px] font-medium">Older post</div><div class="pagination-nav__label text-black text-content-small font-medium">GraphQL in Vue: 5 Best Approaches for Data Fetching</div></div><div class="w-10 h-10 p-2 bg-tailCall-yellow flex justify-center items-center rounded-full"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg></div></a></nav></div><div class="hidden lg:block lg:w-[20.83%] pl-8 mt-12"><div class="sticky top-28"><div class="border-l-solid border-gray-200 pl-4"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#high-level-working" class="table-of-contents__link toc-highlight">High-Level Working</a></li><li><a href="#the-algorithm" class="table-of-contents__link toc-highlight">The Algorithm</a></li><li><a href="#performance" class="table-of-contents__link toc-highlight">Performance</a><ul><li><a href="#1-memoization" class="table-of-contents__link toc-highlight">1. Memoization</a></li><li><a href="#2-chunk-data-structure" class="table-of-contents__link toc-highlight">2. Chunk Data Structure</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></div></div></div><footer class="bg-tailCall-dark-700 grid-dark pt-SPACE_16 pb-SPACE_05 flex flex-col items-center justify-center gap-SPACE_10 w-full relative px-SPACE_04"><svg xmlns="http://www.w3.org/2000/svg" width="115" height="40" fill="none" viewBox="0 0 115 40" class="w-[120px] h-10 z-10"><g clip-path="url(#a)"><path fill="#FDEA2E" d="m33.197 8.055-.965-.562-1.111-.644-1.16-.675-1.063-.618L20.561.711a5.26 5.26 0 0 0-5.284 0L2.642 8.055A5.32 5.32 0 0 0 0 12.658V27.34a5.32 5.32 0 0 0 2.642 4.604l6.4 3.718 2.27 1.32 3.965 2.304c1.635.95 3.65.95 5.284 0l12.636-7.342a5.32 5.32 0 0 0 2.641-4.604V12.658c0-1.9-1.007-3.655-2.641-4.605z"></path><path fill="#000" fill-rule="evenodd" d="M28.668 26.788a2.62 2.62 0 0 1-2.618 2.625 2.6 2.6 0 0 1-1.562-.518l-3.735 2.162-.042.023-.465.262a4.32 4.32 0 0 1-4.222.037 4.36 4.36 0 0 1-2.302-3.869v-9.562h-.002l-3.41 1.973q.014.136.014.274a2.617 2.617 0 1 1-5.222-.283 2.62 2.62 0 0 1 2.604-2.343c.61 0 1.17.21 1.615.56l4.399-2.544v-1.697c0-1.128.602-2.166 1.575-2.726l4.788-2.746a1.04 1.04 0 0 1 1.423.388 1.05 1.05 0 0 1-.388 1.427l-4.788 2.747a1.05 1.05 0 0 0-.527.91V27.51c0 1.76 1.89 2.87 3.419 2.008l.666-.375 3.56-2.06a2 2 0 0 1-.015-.215q-.003-.04-.002-.08a2.62 2.62 0 0 1 2.62-2.625q.052 0 .105.002.04 0 .08.004l.068.006q.125.012.247.036l.08.017q.04.009.08.02.038.009.074.02.049.014.097.03l.017.006q.065.022.129.049.072.028.142.061a2.7 2.7 0 0 1 .41.245l.024.016q0 .002.002.002a2.62 2.62 0 0 1 1.061 2.078z" clip-rule="evenodd"></path><path fill="#000" fill-rule="evenodd" d="M28.67 10.953c0 .34-.064.664-.182.96q-.03.074-.062.147l-.035.071a2 2 0 0 1-.077.143q-.015.03-.034.058a2.5 2.5 0 0 1-.513.603l-.074.063a2.5 2.5 0 0 1-.505.321 2.61 2.61 0 0 1-2.816-.353l-4.54 2.627v10.445c0 .578-.466 1.046-1.042 1.046a1.044 1.044 0 0 1-1.043-1.046v-10.69c0-.564.283-1.086.746-1.395l.017-.01q0 0 .003-.002l.075-.044 4.847-2.804q0-.015-.002-.031-.004-.053-.005-.108a2.619 2.619 0 0 1 2.822-2.62h.001q.078.006.155.018h.003l.154.026.005.002.048.01q.037.007.071.017.065.015.128.035.023.007.047.015.023.006.046.016.047.015.092.034.255.097.479.246c.312.202.578.47.778.785a2.6 2.6 0 0 1 .413 1.415" clip-rule="evenodd"></path></g><path fill="#fff" d="M50.151 28.543q-1.196 0-1.953-.732-.732-.757-.732-2.002v-6.834H44.44v-2.539h3.027v-3.759h3.076v3.76h3.32v2.538h-3.32v6.297q0 .733.683.733h2.343v2.538zM59.428 28.885q-1.294 0-2.319-.44a4 4 0 0 1-1.635-1.318q-.585-.878-.586-2.123 0-1.245.586-2.075.61-.855 1.66-1.27 1.074-.439 2.44-.439h3.32v-.683q0-.855-.537-1.391-.537-.562-1.709-.562-1.147 0-1.708.537-.562.513-.733 1.343l-2.831-.952q.292-.928.928-1.684.659-.782 1.733-1.245 1.098-.489 2.66-.488 2.392 0 3.784 1.196 1.39 1.195 1.39 3.466v4.515q0 .733.684.733h.977v2.538h-2.05q-.904 0-1.49-.44a1.39 1.39 0 0 1-.585-1.17v-.025h-.464q-.098.293-.44.78-.34.465-1.074.83-.732.367-2.001.367m.537-2.49q1.293 0 2.1-.708.828-.731.829-1.928v-.244h-3.1q-.855 0-1.342.366-.489.366-.489 1.025 0 .66.513 1.074t1.489.415M68.804 28.543V16.436h3.076v12.107zm1.538-13.522a2.02 2.02 0 0 1-1.416-.538q-.561-.537-.561-1.415 0-.879.561-1.416a2.02 2.02 0 0 1 1.416-.537q.854 0 1.416.537t.561 1.416-.561 1.415-1.416.537M74.311 28.543V11.457h3.076v17.086zM85.506 28.885q-1.757 0-3.198-.732a5.53 5.53 0 0 1-2.245-2.124q-.83-1.39-.83-3.369v-.341q0-1.977.83-3.369a5.53 5.53 0 0 1 2.245-2.123q1.44-.733 3.198-.733 1.733 0 2.978.61t2.002 1.685q.78 1.05 1.025 2.392l-2.978.635a3.5 3.5 0 0 0-.44-1.318q-.341-.586-.976-.928-.61-.342-1.538-.342-.927 0-1.684.415-.732.391-1.172 1.196-.415.781-.415 1.929v.244q0 1.148.415 1.953.44.78 1.172 1.195.757.39 1.684.391 1.392 0 2.1-.708.732-.732.927-1.904l2.978.708a6.7 6.7 0 0 1-1.099 2.368q-.756 1.05-2.001 1.66t-2.978.61M96.904 28.885q-1.294 0-2.32-.44a4 4 0 0 1-1.635-1.318q-.585-.878-.585-2.123t.585-2.075q.61-.855 1.66-1.27 1.074-.439 2.441-.439h3.32v-.683q0-.855-.537-1.391-.537-.562-1.709-.562-1.147 0-1.709.537-.561.513-.732 1.343l-2.831-.952a4.9 4.9 0 0 1 .927-1.684q.66-.782 1.733-1.245 1.1-.489 2.66-.488 2.394 0 3.784 1.196 1.392 1.195 1.392 3.466v4.515q0 .733.683.733h.976v2.538h-2.05q-.903 0-1.489-.44a1.4 1.4 0 0 1-.586-1.17v-.025h-.463q-.099.293-.44.78-.342.465-1.074.83-.732.367-2.001.367m.537-2.49q1.293 0 2.099-.708.83-.731.83-1.928v-.244h-3.1q-.854 0-1.343.366-.488.366-.488 1.025 0 .66.513 1.074.512.415 1.489.415M106.28 28.543V11.457h3.075v17.086zM111.787 28.543V11.457h3.076v17.086z"></path><defs><clipPath id="a"><path fill="#fff" d="M0 0h35.838v40H0z"></path></clipPath></defs></svg><div class="text-content-tiny sm:text-title-small space-x-SPACE_06 text-tailCall-light-500 z-10"><a class="text-tailCall-light-500 hover:text-tailCall-light-300 hover:no-underline" href="/tailcallhq.github.io/docs/">Documentation</a><a href="https://blog.tailcall.run/" target="_blank" rel="noopener noreferrer" class="text-tailCall-light-500 hover:text-tailCall-light-300 hover:no-underline">Blog</a><a class="text-tailCall-light-500 hover:text-tailCall-light-300 hover:no-underline" href="/tailcallhq.github.io/docs/contribution-guidelines/">Contributors</a><a class="text-tailCall-light-500 hover:text-tailCall-light-300 hover:no-underline" href="/tailcallhq.github.io/privacy/">Privacy Policy</a></div><div class="flex flex-col-reverse sm:flex-row items-center gap-y-SPACE_04 sm:justify-between w-[100%] max-w-7xl sm:mt-SPACE_10 z-10"><p class="text-content-tiny text-tailCall-light-700 font-space-mono font-normal">Copyright © <!-- -->2024<!-- --> Tailcall, Inc.</p><div class="space-x-SPACE_04"><a href="https://github.com/tailcallhq/tailcall" target="_blank" rel="noopener noreferrer" class="cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="h-6 w-6"><g clip-path="url(#a)"><path fill="#B6B6B7" fill-rule="evenodd" d="M11.967 1C5.903 1 1 6.042 1 12.279c0 4.986 3.141 9.206 7.5 10.7.544.112.743-.243.743-.542 0-.261-.017-1.157-.017-2.091C6.175 21.018 5.539 19 5.539 19c-.49-1.307-1.216-1.643-1.216-1.643-.999-.69.072-.69.072-.69 1.108.074 1.69 1.157 1.69 1.157.98 1.718 2.56 1.232 3.195.934.09-.729.381-1.233.69-1.513-2.433-.261-4.993-1.232-4.993-5.565 0-1.232.435-2.24 1.125-3.025-.109-.28-.49-1.438.11-2.988 0 0 .925-.298 3.013 1.158a10.3 10.3 0 0 1 2.742-.373c.926 0 1.87.13 2.742.373 2.088-1.456 3.014-1.158 3.014-1.158.6 1.55.218 2.708.109 2.988.708.784 1.126 1.793 1.126 3.025 0 4.333-2.56 5.285-5.012 5.565.4.355.745 1.027.745 2.092 0 1.512-.018 2.726-.018 3.1 0 .298.2.653.744.54 4.358-1.493 7.5-5.713 7.5-10.7C22.933 6.043 18.013 1 11.966 1" clip-rule="evenodd"></path></g><defs><clipPath id="a"><path fill="#fff" d="M1 1h22v22H1z"></path></clipPath></defs></svg></a><a href="https://discord.gg/kRZBPpkgwq" target="_blank" rel="noopener noreferrer" class="cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="h-6 w-6"><mask id="a" width="20" height="16" x="2" y="4" maskUnits="userSpaceOnUse" style="mask-type:luminance"><path fill="#fff" d="M22 4H2v16h20z"></path></mask><g mask="url(#a)"><path fill="#B6B6B7" d="M18.93 5.425a16.1 16.1 0 0 0-4.07-1.304.06.06 0 0 0-.066.032c-.175.323-.37.744-.506 1.075a14.8 14.8 0 0 0-4.573 0A11 11 0 0 0 9.2 4.153a.06.06 0 0 0-.065-.032 16 16 0 0 0-4.07 1.304.06.06 0 0 0-.028.024c-2.593 4-3.303 7.902-2.954 11.756a.07.07 0 0 0 .026.048 16.4 16.4 0 0 0 4.994 2.608.06.06 0 0 0 .07-.024 12.3 12.3 0 0 0 1.022-1.716.066.066 0 0 0-.035-.091 11 11 0 0 1-1.56-.768.068.068 0 0 1-.007-.11q.159-.122.31-.251a.06.06 0 0 1 .065-.01c3.273 1.544 6.817 1.544 10.051 0a.06.06 0 0 1 .066.01c.1.084.205.17.31.25a.068.068 0 0 1-.005.11q-.747.45-1.561.768a.067.067 0 0 0-.034.091c.3.601.643 1.173 1.02 1.716a.06.06 0 0 0 .07.025 16.3 16.3 0 0 0 5.003-2.608.07.07 0 0 0 .026-.047c.417-4.455-.699-8.325-2.957-11.756a.05.05 0 0 0-.026-.025M8.684 14.86c-.985 0-1.797-.935-1.797-2.082 0-1.148.796-2.082 1.797-2.082 1.01 0 1.814.943 1.798 2.082 0 1.147-.796 2.082-1.798 2.082m6.646 0c-.985 0-1.797-.935-1.797-2.082 0-1.148.796-2.082 1.797-2.082 1.009 0 1.813.943 1.797 2.082 0 1.147-.788 2.082-1.797 2.082"></path></g></svg></a><a href="https://www.linkedin.com/company/tailcall" target="_blank" rel="noopener noreferrer" class="cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="h-6 w-6"><mask id="a" width="18" height="18" x="3" y="3" maskUnits="userSpaceOnUse" style="mask-type:luminance"><path fill="#fff" d="M21 3H3v18h18z"></path></mask><g mask="url(#a)"><path fill="#B6B6B7" d="M8.178 19V9.554H5.177V19zm-1.5-10.736c1.046 0 1.698-.725 1.698-1.632C8.356 5.705 7.724 5 6.698 5 5.671 5 5 5.705 5 6.632c0 .907.651 1.632 1.658 1.632zM9.84 19h3.001v-5.275c0-.282.02-.564.099-.766.217-.564.71-1.148 1.54-1.148 1.086 0 1.52.866 1.52 2.136V19H19v-5.416c0-2.902-1.48-4.252-3.455-4.252-1.619 0-2.33.947-2.725 1.591h.02v-1.37h-3c.039.887 0 9.447 0 9.447"></path></g></svg></a><a href="https://twitter.com/tailcallhq" target="_blank" rel="noopener noreferrer" class="cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 28 28" class="h-6 w-6"><path fill="#B6B6B7" d="M18.745 6.428h2.53l-5.528 6.318 6.503 8.597h-5.092l-3.988-5.215-4.563 5.215H6.076l5.912-6.758L5.75 6.428h5.22l3.605 4.766zm-.888 13.4h1.402l-9.05-11.965H8.705z"></path></svg></a></div></div></footer></div>
</body>
</html>