"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3698],{1723:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"directives/expr","title":"@expr","description":"The @expr directive allows you to embed data directly into your schema.","source":"@site/docs/directives/expr.md","sourceDirName":"directives","slug":"/expr-directive","permalink":"/tailcallhq.github.io/docs/expr-directive","draft":false,"unlisted":false,"editUrl":"https://github.com/tailcallhq/tailcallhq.github.io/tree/develop/docs/directives/expr.md","tags":[],"version":"current","lastUpdatedAt":1732818775000,"frontMatter":{"title":"@expr","description":"The @expr directive allows you to embed data directly into your schema.","slug":"../expr-directive"},"sidebar":"docs","previous":{"title":"@discriminate","permalink":"/tailcallhq.github.io/docs/discriminate"},"next":{"title":"@graphQL","permalink":"/tailcallhq.github.io/docs/graphQL-directive"}}');var r=t(74848),s=t(28453);const a={title:"@expr",description:"The @expr directive allows you to embed data directly into your schema.",slug:"../expr-directive"},l=void 0,c={},o=[{value:"Static",id:"static",level:2},{value:"Dynamic",id:"dynamic",level:2},{value:"Combining Multiple Directives",id:"combining-multiple-directives",level:2}];function d(e){const i={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.p,{children:["The ",(0,r.jsx)(i.code,{children:"@expr"})," directive is defined as follows:"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-graphql",metastring:'title="Directive Definition" showLineNumbers',children:"directive @expr(body: JSON) on FIELD_DEFINITION | OBJECT\n"})}),"\n",(0,r.jsxs)(i.p,{children:["The ",(0,r.jsx)(i.code,{children:"@expr"})," directive in GraphQL is a powerful tool for embedding data directly into your schema, offering two primary functionalities:"]}),"\n",(0,r.jsx)(i.h2,{id:"static",children:"Static"}),"\n",(0,r.jsx)(i.p,{children:"This feature allows for the inclusion of a constant response within the schema definition itself. It is useful for scenarios where the response is unchanging. e.g:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-graphql",children:'schema {\n  query: Query\n}\n\ntype Query {\n  user: User @expr(body: {name: "John", age: 12})\n}\n\ntype User {\n  name: String\n  age: Int\n}\n'})}),"\n",(0,r.jsxs)(i.p,{children:["The ",(0,r.jsx)(i.code,{children:"@expr"})," directive also checks the provided value at compile time to ensure it matches the field's schema. If not, the console displays a descriptive error message."]}),"\n",(0,r.jsx)(i.h2,{id:"dynamic",children:"Dynamic"}),"\n",(0,r.jsxs)(i.p,{children:["Beyond static data embedding, the ",(0,r.jsx)(i.code,{children:"@expr"})," directive extends its utility to support dynamic data injection through Mustache template syntax. This feature enables the use of placeholders within the constant data, which are then dynamically replaced with actual values at runtime. It supports both scalar values and complex objects, including lists and nested objects, offering flexibility in tailoring responses to specific needs. e.g:"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-graphql",children:'schema {\n  query: Query\n}\n\ntype Query {\n  user: User\n    @expr(\n      body: {\n        name: "John"\n        workEmail: "john@xyz.com"\n        personalEmail: "john@xyz.com"\n      }\n    )\n}\n\ntype User {\n  name: String\n  age: Int\n  personalEmail: String\n  workEmail: String\n  emails: Emails\n    @expr(\n      body: {\n        emails: {\n          workEmail: "{{.value.workEmail}}"\n          personalEmail: "{{.value.personalEmail}}"\n        }\n      }\n    )\n}\n\ntype Emails {\n  workEmail: String\n  personalEmail: String\n}\n'})}),"\n",(0,r.jsxs)(i.p,{children:["In this example, the ",(0,r.jsx)(i.code,{children:"@expr"})," directive dynamically generates an ",(0,r.jsx)(i.code,{children:"Emails"})," object based on the provided template data. The placeholders within the template (",(0,r.jsx)(i.code,{children:"{{.value.workEmail}}"})," and ",(0,r.jsx)(i.code,{children:"{{.value.personalEmail}}"}),") get replaced with the actual values specified in the ",(0,r.jsx)(i.code,{children:"User"})," type, allowing for dynamic content generation while still adhering to the schema's structure."]}),"\n",(0,r.jsx)(i.h2,{id:"combining-multiple-directives",children:"Combining Multiple Directives"}),"\n",(0,r.jsxs)(i.p,{children:["The ",(0,r.jsx)(i.code,{children:"@expr"})," directive can be used in combination with other ",(0,r.jsx)(i.a,{href:"/tailcallhq.github.io/docs/tailcall-dsl-graphql-custom-directives#resolvable-directives",children:"resolvable directives"}),", with results merged deeply. This allows for powerful and flexible resolver configurations."]}),"\n",(0,r.jsxs)(i.p,{children:["For more details, see ",(0,r.jsx)(i.a,{href:"/tailcallhq.github.io/docs/tailcall-dsl-graphql-custom-directives",children:"Directives Documentation"}),"."]})]})}function h(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,i,t)=>{t.d(i,{R:()=>a,x:()=>l});var n=t(96540);const r={},s=n.createContext(r);function a(e){const i=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(s.Provider,{value:i},e.children)}}}]);